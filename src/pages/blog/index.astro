---
import Layout from '../../layouts/Layout.astro';
import BlogPost from '../../components/BlogPost.astro';

import { getCollection } from "astro:content";

const posts = await getCollection('blog')
---

<Layout title="Posts">
    <main>
        <ul>
            {posts.sort((a, b) => b.data.pubDate > a.data.pubDate ? 1 : -1).map((post) => <BlogPost description={post.data.description} url={`/blog/${post.slug}/`} title={post.data.title} pubDate={post.data.pubDate} />)}
        </ul>
    </main>
</Layout>

<style>

</style>
